(function(){"use strict";var t={6095:function(t,e,r){r(6992),r(8674),r(9601),r(7727);var n=r(9567),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("header",{staticClass:"bg-gray-900 h-24 flex items-center text-2xl"},[r("div",{staticClass:"w-screen max-w-screen-xl m-auto text-white flex justify-between"},[r("span",[t._v(" MDX Course Work ")]),r("button",{staticClass:"border-2 text-sm p-2 font-extralight hover:bg-black cursor-pointer",on:{click:t.navigate}},[t._v(" View "+t._s(t.pageInverse)+" "+t._s(t.cartItemCount)+" "+t._s(0==t.cartItemCount?"(disabled)":"")+" ")])])]),"home"===t.currentPage?r("section",[r("Lessons",{attrs:{"items-in-cart":t.itemsInCart,"is-enabled":t.isEnabled,subjects:t.subjects,"sort-by-place-holder":t.sortByPlaceHolder,"order-by-placeholder":t.orderByPlaceholder},on:{"add-to-cart":t.addToCart,"set-state":t.setState}})],1):t._e(),"cart"===t.currentPage?r("section",[r("cart",{attrs:{"items-in-cart":t.itemsInCart,"get-cart-products":t.getCartProducts(),"is-enabled":t.isEnabled,"cart-item-count":t.cartItemCount,navigate:t.navigate},on:{"add-to-cart":t.addToCart,"remove-from-cart":t.removeFromCart}})],1):t._e(),"checkout"===t.currentPage?r("section",[r("Checkout",{attrs:{form:t.form,"create-an-order":t.createAnOrder,"get-cart-products":t.getCartProducts(),"is-form-button-valid":t.isFormButtonValid,"total-cart-sum":t.totalCartSum},on:{"set-state":t.setState,navigate:t.navigate,"create-an-order":t.createAnOrder}})],1):t._e(),"success"===t.currentPage?r("section",[r("main",{staticClass:"max-w-screen-xl py-20 text-gray-100 m-auto"},[r("h1",{staticClass:"text-xl"},[t._v("Success ðŸŽ‰")]),r("p",{staticClass:"font-thin"},[t._v(" Your order has been made successfully, Thank you for time. ")]),r("button",{staticClass:"border-2 bg-white text-black text-sm p-2 font-extralight mt-5 w-80 text-center hover:bg-black hover:text-white cursor-pointer",on:{click:function(e){return t.navigate("home")}}},[t._v(" Go Back to Home ")])])]):t._e(),t._m(0)])},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-white text-center w-screen py-20 font-thin"},[t._v(" Developed By "),r("a",{staticClass:"underline",attrs:{href:"https://rajaosama.me"}},[t._v("Raja Osama")])])}],a=r(3571),i=r(3019),c=(r(1539),r(1249),r(8309),r(9720),r(8862),r(4747),r(9826),r(4553),r(561),r(2479),r(7327),r(2707),r(4603),r(8450),r(4916),r(8386),r(9714),r(4723),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"max-w-screen-xl py-20 text-gray-100 m-auto"},[r("h1",{staticClass:"text-xl"},[t._v("Checkout ðŸ’°")]),r("p",{staticClass:"font-thin"},[t._v(" Complete the checkout by filling the form below, and then click on complete checkout. ")]),r("div",{staticClass:"grid grid-cols-2 gap-4 pt-20"},[r("div",[r("h1",{staticClass:"text-xl"},[t._v("Complete the form to checkout.")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.formApp.name,expression:"formApp.name"}],staticClass:"bg-black w-80 p-2 border-2 mt-2 font-thin",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.formApp.name},on:{input:function(e){e.target.composing||t.$set(t.formApp,"name",e.target.value)}}}),r("p",{staticClass:"text-pink-700"},[t._v(" "+t._s(t.formApp.nameError)+" ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.formApp.phone,expression:"formApp.phone"}],staticClass:"bg-black w-80 p-2 border-2 mt-2 font-thin",attrs:{type:"number",placeholder:"Phone"},domProps:{value:t.formApp.phone},on:{input:function(e){e.target.composing||t.$set(t.formApp,"phone",e.target.value)}}}),t._v(" "+t._s(t.formApp.phoneError)+" "),r("button",{staticClass:"border-2 bg-white text-black text-sm p-2 font-extralight mt-5 w-80 text-center hover:bg-black hover:text-white cursor-pointer",on:{click:function(e){return t.createAnOrder("success")}}},[t._v(" Complete "+t._s(t.isFormButtonValid?"":"(disabled)")+" ")])]),r("div",{staticClass:"border-2 p-2"},[r("h1",{staticClass:"text-lg font-thin"},[t._v("Summary")]),r("hr"),t._l(t.getCartProducts,(function(e){return r("div",{key:e.title,staticClass:"flex justify-between font-thin"},[r("span",[t._v(" "+t._s(e.title)+" ")]),r("span",[t._v(" "+t._s(e.inCart)+" x "+t._s(e.price)+" = "+t._s(e.inCart*e.price)+" ")])])})),r("hr"),r("div",{staticClass:"flex justify-between"},[r("span",[t._v(" Total ")]),r("span",[t._v(" "+t._s(t.totalCartSum)+" ")])])],2)])])}),l=[],u={name:"checkout-app",props:["form","getCartProducts","isFormButtonValid","totalCartSum","setState"],methods:{createAnOrder:function(t){console.log({e:t}),this.$emit("navigate",t)}},created:function(){console.log({props:this.form})},data:function(){return{formApp:this.form}},watch:{form:{handler:function(t){this.formApp=t},deep:!0},formApp:{handler:function(t){console.log({newVal:t}),this.$emit("setState","form",t)},deep:!0}}},d=u,h=r(1001),f=(0,h.Z)(d,c,l,!1,null,null,null),p=f.exports,m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"max-w-screen-xl py-20 text-gray-100 m-auto"},[r("h1",{staticClass:"text-xl"},[t._v("Subjects ðŸ“•")]),r("p",{staticClass:"font-thin"},[t._v(" Below are the subjects Available for extra classes, you can book a session by on:clicking on the link below ")]),r("div",{staticClass:"flex justify-between"}),r("div",{staticClass:"grid grid-cols-2 lg:grid-cols-3 gap-4 mt-20"},t._l(t.subjects,(function(e){return r("div",{key:e.title,staticClass:"mx-10 border-2 border-gray-700 p-5 bg-gray-900"},[r("img",{staticClass:"w-full h-80",staticStyle:{"object-fit":"cover"},attrs:{src:e.image}}),r("div",{staticClass:"flex justify-between pt-2"},[r("div",[r("h1",{staticClass:"text-xl"},[t._v(" "+t._s(e.title)+" ")]),r("p",{staticClass:"font-thin"},[t._v(" Class Location : "+t._s(e.location)+" "),r("br"),t._v(" Spaces Available : "+t._s(e.spaces-t.itemsInCart(e.id))),r("br"),t._l(5,(function(n){return r("span",{key:n},[t._v(" "+t._s(t.abc(n,e))+" ")])}))],2)]),r("span",[t._v(" "+t._s(e.price)+"$ ")])]),r("button",{staticClass:"border-2 text-sm p-2 font-extralight mt-5 w-full text-center hover:bg-black cursor-pointer",attrs:{disabled:!t.isEnabled(e.id)},on:{click:function(){return t.addToCart(e.id)}}},[t._v(" Add to Cart "+t._s(t.isEnabled(e.id)?"":"(disabled)")+" ")])])})),0)])},v=[],b={name:"lesson-app",props:["subjects","sortByPlaceHolder","orderByPlaceholder","setState","isEnabled","itemsInCart"],created:function(){console.log(this.subjects)},data:function(){return{orderBy:"",sortBy:"",search:""}},watch:{sortBy:function(t){this.$emit("setState","sortBy",t)},orderBy:function(t){this.$emit("setState","orderBy",t)},search:function(t){console.log("Serch"),this.$emit("setState","search",t)}},methods:{abc:function(t,e){return t<=e.rating?"â˜…":"â˜†"},addToCart:function(t){this.$emit("add-to-cart",t)}}},g=b,C=(0,h.Z)(g,m,v,!1,null,null,null),x=C.exports,_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"max-w-screen-xl py-20 text-gray-100 m-auto"},[r("h1",{staticClass:"text-xl"},[t._v("CartðŸ“•")]),r("p",{staticClass:"font-thin"},[t._v(" Below are the products that you have added in the cart, you can remove them if you want or checkout from the form below ")]),r("button",{staticClass:"border-2 text-sm p-2 font-extralight mt-5 w-full text-center hover:bg-black hover:text-white cursor-pointer bg-white text-black",on:{click:function(){return t.navigate("checkout")}}},[t._v(" Proceed with Checkout "+t._s(0==t.cartItemCount?"(disabled)":"")+" ")]),r("div",{staticClass:"grid grid-cols-3 gap-4 mt-20"},t._l(t.getCartProducts,(function(e){return r("div",{key:e.title,staticClass:"mx-10 border-2 border-gray-700 p-5 bg-gray-900"},[r("img",{staticClass:"w-full h-80",staticStyle:{"object-fit":"cover"},attrs:{src:e.image}}),r("div",{staticClass:"flex justify-between pt-2"},[r("div",[r("h1",{staticClass:"text-xl"},[t._v(" "+t._s(e.title)+" ")]),r("p",{staticClass:"font-thin"},[t._v(" Class Location : "+t._s(e.location)+" "),r("br"),t._v(" Spaces Available : "+t._s(e.spaces-t.itemsInCart(e.id))),r("br"),t._l(5,(function(n){return r("span",{key:n},[t._v(" "+t._s(t.abc(n,e))+" ")])}))],2)]),r("span",[t._v(" "+t._s(e.price)+"$ ")])]),r("button",{staticClass:"border-2 text-sm p-2 font-extralight mt-5 w-full text-center hover:bg-black cursor-pointer",attrs:{disabled:!t.isEnabled(e.id)},on:{click:function(){return t.addToCart(e.id)}}},[t._v(" Add to Cart "+t._s(t.isEnabled(e.id)?"":"(disabled)")+" ")]),r("button",{staticClass:"border-2 text-sm p-2 font-extralight mt-5 w-full text-center hover:bg-black cursor-pointer",on:{click:function(){return t.removeFromCart(e.id)}}},[t._v(" Remove from Cart ("+t._s(e.inCart)+") ")])])})),0)])},y=[],w={name:"cart-app",props:["form","getCartProducts","isFormButtonValid","cartItemCount","navigate","itemsInCart","isEnabled"],methods:{abc:function(t,e){return t<=e.rating?"â˜…":"â˜†"},addToCart:function(t){this.$emit("add-to-cart",t)},removeFromCart:function(t){this.$emit("remove-from-cart",t)}},created:function(){console.log({props:this.$props})},data:function(){return{}}},k=w,j=(0,h.Z)(k,_,y,!1,null,null,null),P=j.exports,B={name:"App",components:{Lessons:x,Checkout:p,cart:P},data:function(){return{form:{name:"",nameError:"",phone:"",phoneError:""},cartItems:[],orderBy:"",sortBy:"",search:"",currentPage:"home",sortByPlaceHolder:["location","price","spaces","rating","title"],orderByPlaceholder:["ascending","descending"],subjects:[],originalData:[]}},created:function(){var t=this;fetch("https://express-vue-app-raja.herokuapp.com/collection/webstore").then((function(e){e.json().then((function(e){console.log({json:e});var r=e.map((function(t){return(0,i.Z)((0,i.Z)({},t),{},{id:t._id})}));t.originalData=r,t.subjects=r}))}))},methods:{setState:function(t,e){console.log({key:t,value:e}),this[t]=e},createAnOrder:function(t){var e=this,r=this.cartItems.reduce((function(t,e){return t[e]=t[e]?t[e]+1:1,t}),{}),n={name:this.form.name,phone:this.form.phone,lessons:Object.entries(r).map((function(t){var e=(0,a.Z)(t,2),r=e[0],n=e[1];return{lessonId:r,spaces:n}}))},o=new Headers;o.append("Content-Type","application/json"),fetch("https://express-vue-app-raja.herokuapp.com/collection/order",{method:"POST",headers:o,body:JSON.stringify((0,i.Z)({},n))}).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(t){return console.log("error",t)})),Object.entries(r).forEach((function(t){var r=(0,a.Z)(t,2),n=r[0],s=r[1],i=e.subjects.find((function(t){return t._id===n})),c=i.spaces;console.log({spaces:c}),fetch("https://express-vue-app-raja.herokuapp.com/collection/webstore/".concat(n),{method:"PUT",headers:o,body:JSON.stringify({spaces:c-s})}).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(t){return console.log("error",t)}))})),this.navigate(t)},navigate:function(t){if(t&&"string"===typeof t)return this.currentPage=t;var e="home"===this.currentPage?"cart":"home";this.currentPage=e},removeFromCart:function(t){console.log({id:t});var e=this.cartItems,r=e.findIndex((function(e){return e===t}));r>-1&&e.splice(r,1),this.cartItems=e},getCartProducts:function(){var t=this.subjects,e=this.cartItems.reduce((function(e,r){if(e["id-".concat(r)])return e["id-".concat(r)]=(0,i.Z)((0,i.Z)({},e["id-".concat(r)]),{},{inCart:e["id-".concat(r)].inCart+1}),e;var n=t.find((function(t){return t.id==r}));return e["id-".concat(r)]=(0,i.Z)((0,i.Z)({},n),{},{inCart:1}),e}),{});return Object.values(e)},addToCart:function(t){var e=this.cartItems;e.push(t)},itemsInCart:function(t){return null===this||void 0===this?void 0:this.cartItems.filter((function(e){return e===t})).length},isEnabled:function(t){var e=this.subjects.find((function(e){return e.id===t})),r=this.itemsInCart(e.id);return console.log(e.spaces>r),e.spaces>r}},watch:{search:function(t){fetch("https://express-vue-app-raja.herokuapp.com/collection/webstore?search=title:".concat(t)).then((function(t){t.json().then((function(t){this.subjects=t.map((function(t){return(0,i.Z)((0,i.Z)({},t),{},{id:t._id})}))}))}))},orderBy:function(t){var e=this.subjects,r=this.sortBy,n="ascending"===t?-1:1,o="ascending"===t?1:-1,s=e.sort((function(t,e){return t[r]<e[r]?n:t[r]>e[r]?o:0}));console.log({subjects:e}),this.subjects=s},isFormButtonValid:function(){if(!this.form.name||!this.form.phone)return!1;var t=new RegExp("^[0-9]*$","g"),e=new RegExp("^[a-zA-Z_ ]*$","g"),r=this.form.phone.match(t),n=this.form.name.match(e);return r&&n?(this.form.nameError="",this.form.phoneError="",!0):(!n&&(this.form.nameError="Kindly make sure to only input string"),!r&&(this.form.phoneError="Kindly make sure to only input Number"),!1)},sortBy:function(t){var e=this.subjects,r=this.orderBy,n="ascending"===r?-1:1,o="ascending"===r?1:-1,s=e.sort((function(e,r){return e[t]<r[t]?n:e[t]>r[t]?o:0}));console.log({subjects:e}),this.subjects=s}},computed:{pageInverse:function(){var t="home"===this.currentPage?"cart":"home";return t},totalCartSum:function(){return this.getCartProducts().reduce((function(t,e){return t+=e.price*e.inCart,t}),0)},cartItemCount:function(){return this.cartItems.length},isCartEnabled:function(){return this.cartItemCount.length>0}}},E=B,I=(0,h.Z)(E,o,s,!1,null,null,null),A=I.exports;n.Z.config.productionTip=!1,new n.Z({render:function(t){return t(A)}}).$mount("#app")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,r),s.exports}r.m=t,function(){var t=[];r.O=function(e,n,o,s){if(!n){var a=1/0;for(u=0;u<t.length;u++){n=t[u][0],o=t[u][1],s=t[u][2];for(var i=!0,c=0;c<n.length;c++)(!1&s||a>=s)&&Object.keys(r.O).every((function(t){return r.O[t](n[c])}))?n.splice(c--,1):(i=!1,s<a&&(a=s));if(i){t.splice(u--,1);var l=o();void 0!==l&&(e=l)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[n,o,s]}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,s,a=n[0],i=n[1],c=n[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(c)var u=c(r)}for(e&&e(n);l<a.length;l++)s=a[l],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(u)},n=self["webpackChunkcw2_web"]=self["webpackChunkcw2_web"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(6095)}));n=r.O(n)})();
//# sourceMappingURL=app-legacy.10ff4e5d.js.map